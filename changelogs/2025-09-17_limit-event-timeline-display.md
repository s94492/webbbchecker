# 限制異常事件時間線顯示最新 10 筆

## 發布日期
2025-09-17 13:55

## 版本
v1.0.17-patch

## 功能改進

### 需求背景
- 當選擇較長時間範圍（如 30 天、90 天）時，異常事件可能累積很多
- 過多的事件顯示會影響頁面性能和使用體驗
- 使用者通常只關心最新的異常事件

### 實作方案

#### 1. 前端資料過濾
修改 `frontend/src/pages/WebsiteDetail.js`：
```javascript
// 只傳遞最新 10 筆事件給組件
<EventTimeline
  events={events.slice(-10)}
  loading={loading}
/>
```

#### 2. 組件內顯示優化
修改 `frontend/src/components/EventTimeline.js`：
- 使用 `slice(-10).reverse()` 取得最新 10 筆並倒序顯示
- 最新的事件顯示在最上方
- 加入「(最新 10 筆)」提示文字
- 顯示「顯示 X / Y 個事件」的計數標籤

## 技術細節

### 修改檔案
1. `frontend/src/pages/WebsiteDetail.js`
   - 第 659-661 行：限制傳入的事件數量

2. `frontend/src/components/EventTimeline.js`
   - 第 114-116 行：加入「最新 10 筆」提示
   - 第 119 行：顯示實際顯示數量與總數
   - 第 127 行：使用 `slice(-10).reverse()` 顯示最新事件

### 顯示邏輯
- 從陣列尾部取 10 筆（最新的）
- 反轉順序，讓最新的顯示在上方
- 保留原始事件總數的顯示

## 使用者體驗改進
- 頁面載入更快
- 資訊更聚焦，關注最新異常
- 清楚顯示篩選狀態（X/Y 個事件）
- 保持介面簡潔不擁擠

## 測試結果
- ✅ 只顯示最新 10 筆異常事件
- ✅ 最新事件顯示在最上方
- ✅ 顯示總事件數與實際顯示數
- ✅ 提升頁面載入性能