# PDF報表顯示修復 - 2025年9月9日

## 變更摘要
修復PDF報表中的多個顯示問題，包括標題重複、表格對齊和文字置中問題。

## 修復內容

### 1. 修復標題重複問題
- **問題**: 「24小時可用性時間軸」標題在PDF中顯示兩次
- **解決方案**: 移除 `drawServiceStabilityAnalysis` 函數中的重複標題生成代碼（第1341行）

### 2. 修復時間軸表格對齊問題
- **問題**: 開始時間、數據、結束時間標籤未正確對齊
- **解決方案**:
  - 調整時間軸Y座標從 `startY + 50` 改為 `startY + 20`
  - 調整時間軸X座標從 `startX + 80` 改為 `startX + 100`
  - 調整時間軸寬度從 300 改為 280
  - 為所有標籤添加 `width` 和 `align: 'center'` 屬性
  - 在時間軸中央添加「數據」標籤

### 3. 修復框格中文字置中問題
- **問題**: 三個統計卡片中的文字未正確置中
- **解決方案**:
  - 增加卡片寬度從 120 改為 140
  - 增加卡片高度從 40 改為 50
  - 調整卡片間距從 140 改為 160
  - 所有文字使用 `width` 和 `align: 'center'` 屬性實現置中
  - 統一調整文字Y座標位置（主文字: cardY+10, 說明文字: cardY+32）

## 技術細節

### 修改檔案
- `/root/0901newwww/backend/src/routes/websiteReports.js`

### 修改內容詳情
1. **第1339-1341行**: 移除重複標題生成
2. **第1343-1347行**: 調整時間軸佈局參數
3. **第1353-1357行**: 修正開始時間標籤對齊
4. **第1370-1375行**: 修正結束時間標籤對齊
5. **第1377-1379行**: 添加數據標籤並修正對齊
6. **第1386-1390行**: 調整卡片尺寸和間距
7. **第1392-1421行**: 修正三個統計卡片的文字置中

## 測試結果
- PDF成功生成，檔案大小約41KB
- 標題不再重複顯示
- 時間軸標籤正確對齊
- 統計卡片中的文字完美置中

## 版本資訊
- 系統版本: v3.2
- 更新日期: 2025-09-09
- 更新時間: 21:13